<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Energ铆a E贸lica con Animaci贸n</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #eef4ff; /* Fondo azul claro */
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #004d99;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 600;
        }

        /* --- Estilos de la Turbina E贸lica y Animaci贸n --- */
        .turbine-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        /* Contenedor de la turbina para mantener la perspectiva */
        .turbine-visual {
            position: relative;
            width: 150px;
            height: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Torre */
        .tower {
            width: 20px;
            height: 200px;
            background-color: #9cb3bf;
            border-radius: 5px 5px 0 0;
            position: absolute;
            bottom: 0;
        }
        
        /* G贸ndola (Caja) */
        .nacelle {
            width: 40px;
            height: 30px;
            background-color: #5d7c9a;
            border-radius: 4px;
            position: absolute;
            top: 170px;
            z-index: 10;
        }

        /* Rotor (Donde giran las palas) */
        .rotor {
            position: absolute;
            top: 185px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 10px;
            background-color: #333;
            border-radius: 50%;
            z-index: 15;
            /* La animaci贸n de rotaci贸n se aplica aqu铆 */
            animation-name: spin;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
        }

        /* Palas individuales */
        .blade {
            position: absolute;
            width: 5px;
            height: 80px;
            background: #4a5c68;
            border-radius: 0 5px 5px 0;
            transform-origin: 0% 50%; /* Punto de giro */
            left: 5px;
            top: -35px;
        }

        /* Posicionamiento de las 3 palas */
        .rotor .blade:nth-child(1) { transform: rotate(0deg) translate(0, 0); }
        .rotor .blade:nth-child(2) { transform: rotate(120deg) translate(0, 0); }
        .rotor .blade:nth-child(3) { transform: rotate(240deg) translate(0, 0); }

        /* Definici贸n de la animaci贸n de rotaci贸n */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* --- Estilos de Control y Resultados --- */
        .controls {
            padding: 20px;
            background-color: #e9f0f8;
            border-radius: 8px;
            margin-top: 20px;
        }
        label {
            font-weight: bold;
            color: #004d99;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 5px;
        }
        #velocidadValor {
            font-size: 1.2em;
            color: #28a745;
        }
        #resultado {
            margin-top: 20px;
            padding: 15px;
            background-color: #d4edda;
            border-left: 5px solid #28a745;
            border-radius: 4px;
            font-size: 1.1em;
        }
        
        /* Estilos de la descripci贸n */
        .description-arg {
            margin-top: 30px;
            padding: 20px;
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            border-radius: 4px;
        }
        h2 {
            color: #004d99;
            border-bottom: 2px solid #004d99;
            padding-bottom: 5px;
            margin-top: 30px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Simulador Interactivo de Potencia E贸lica</h1>

        <div class="turbine-section">
            
            <div class="turbine-visual">
                <div class="tower"></div>
                <div class="nacelle"></div>
                <div class="rotor" id="rotor">
                    <div class="blade"></div>
                    <div class="blade"></div>
                    <div class="blade"></div>
                </div>
            </div>

            <div class="controls">
                <label for="velocidadViento">
                    Velocidad del Viento (m/s):
                    <span id="velocidadValor">10.0</span> m/s
                </label>
                <input type="range" id="velocidadViento" min="0" max="25" step="0.1" value="10" 
                       oninput="actualizarVelocidad(this.value)">

                <div id="resultado">
                    </div>
            </div>
        </div>
        
        ---

        <h2> Desarrollo de la Energ铆a E贸lica en Argentina</h2>
        <div class="description-arg">
            <p>El desarrollo de la energ铆a e贸lica en **Argentina** ha experimentado un crecimiento significativo en los 煤ltimos a帽os, impulsado por leyes de Fomento a las Energ铆as Renovables (como la Ley 27.191) y programas como **RenovAr**.</p>
            <p>El pa铆s posee un recurso e贸lico excepcional, especialmente en la regi贸n de la **Patagonia** (provincias como Chubut, Santa Cruz y Buenos Aires), donde la velocidad del viento es alta y constante.</p>
            <p>La energ铆a e贸lica es actualmente una de las principales fuentes de energ铆a renovable en la matriz energ茅tica argentina, contribuyendo a la diversificaci贸n y a la meta de alcanzar un porcentaje espec铆fico de consumo el茅ctrico a partir de fuentes renovables.</p>
        </div>
    </div>

    <script>
        const V_MIN = 3.0;  // Velocidad m铆nima de operaci贸n (cut-in speed)
        const V_MAX = 25.0; // Velocidad m谩xima de operaci贸n (cut-out speed)

        // Propiedades de la turbina gen茅rica (igual que en el c贸digo anterior)
        const rho = 1.225; // Densidad del aire (kg/m鲁)
        const radioPala = 40; // Radio de la pala de una turbina grande (m)
        const areaBarrida = Math.PI * Math.pow(radioPala, 2); // rea (m虏)
        const Cp = 0.45; // Coeficiente de potencia t铆pico

        const rotorElement = document.getElementById('rotor');
        const velocidadValorSpan = document.getElementById('velocidadValor');
        const resultadoDiv = document.getElementById('resultado');

        function calcularPotencia(V) {
            // Aplicar la f贸rmula: P = 0.5 * rho * A * V^3 * Cp (en Watios)
            let potenciaTeorica = 0.5 * rho * areaBarrida * Math.pow(V, 3) * Cp; 
            const potenciakW = potenciaTeorica / 1000; // a Kilovatios

            // Adaptar la potencia a los l铆mites reales de la turbina
            let potenciaFinalkW = 0;
            let mensaje = "";

            if (V < V_MIN) {
                potenciaFinalkW = 0.00;
                mensaje = `<p><strong>Potencia Producida:</strong> ${potenciaFinalkW.toFixed(2)} kW</p>
                           <p style="color: orange; font-size: 0.9em;">Velocidad baja (V < ${V_MIN} m/s). La turbina est谩 detenida o inactiva.</p>`;
            } else if (V >= V_MIN && V < V_MAX) {
                potenciaFinalkW = potenciakW;
                mensaje = `<p><strong>Potencia Producida:</strong> <strong>${potenciaFinalkW.toFixed(2)} kW</strong></p>
                           <p style="color: green; font-size: 0.9em;">Generaci贸n eficiente de energ铆a.</p>`;
            } else { // V >= V_MAX
                 // En la realidad, la turbina opera a su potencia nominal m谩xima (por ejemplo, 3000 kW) o se detiene.
                 // Aqu铆 simulamos un l铆mite m谩ximo y un aviso de detenci贸n.
                 potenciaFinalkW = 3000.00; // Asumimos una potencia nominal m谩xima
                 mensaje = `<p><strong>Potencia Producida:</strong> ${potenciaFinalkW.toFixed(2)} kW</p>
                            <p style="color: red; font-size: 0.9em;">Velocidad cr铆tica (V > ${V_MAX} m/s). La turbina puede detenerse por seguridad (cut-out).</p>`;
            }

            resultadoDiv.innerHTML = `<p><strong>Velocidad del Viento:</strong> ${V.toFixed(1)} m/s</p>` + mensaje;
            
            // Retorna la potencia final para un posible uso futuro, aunque no se usa aqu铆
            return potenciaFinalkW; 
        }

        function actualizarVelocidad(VString) {
            const V = parseFloat(VString);
            velocidadValorSpan.textContent = V.toFixed(1);

            // 1. Calular Potencia
            calcularPotencia(V);
            
            // 2. Controlar la animaci贸n de giro
            
            // Si la velocidad es 0, la turbina debe detenerse.
            if (V === 0) {
                rotorElement.style.animationPlayState = 'paused';
                rotorElement.style.animationDuration = '0s';
                return;
            }

            // Mapear la velocidad del viento (V) a una duraci贸n de animaci贸n (D)
            // Una duraci贸n m谩s corta (menor D) significa una rotaci贸n m谩s r谩pida.
            // Usamos un factor inverso. Ejemplo: 
            // V=1 m/s -> Duraci贸n 10s (lento)
            // V=25 m/s -> Duraci贸n 0.1s (r谩pido)
            
            // F贸rmula: D = 10 / V (para mapear 1-25 m/s a 10-0.4 segundos)
            // Agregamos un peque帽o offset para evitar divisi贸n por cero o velocidades extremas
            const durationFactor = 10;
            let newDuration = durationFactor / V;
            
            // Limitar la velocidad m谩xima para que no sea absurdamente r谩pida
            newDuration = Math.max(0.05, newDuration); // M铆nimo 0.05s por rotaci贸n

            rotorElement.style.animationPlayState = 'running';
            rotorElement.style.animationDuration = `${newDuration}s`;
        }

        // Inicializar el simulador al cargar la p谩gina con el valor por defecto
        document.addEventListener('DOMContentLoaded', () => {
            const initialV = document.getElementById('velocidadViento').value;
            actualizarVelocidad(initialV);
        });
    </script>
</body>
</html>
